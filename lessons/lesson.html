<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/0d4abc25aa.js" crossorigin="anonymous"></script>
    
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/lesson.css">

    <script>
        window.MathJax = {
            loader: {load: ["input/tex", "output/svg", '[tex]/physics']},
            tex: {packages: {'[+]': ['physics']}},
        };
    </script>

    <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

    <title>{{title}}</title>
</head>
<body style="padding-bottom: 2em;">
    <header>
        <div class="s1-container" style="display:flow-root">
            <a href="/">Meniu</a>
            <a href="despre.html">Despre</a>
			<a class="fa-regular fa-circle-question trigger" style="float:right" id="popupTrigger">
				<span class="popup" id="popupContent">
					Poți mișca razele folosind <i class="fa-regular fa-hand"></i> sau <i class="fa-solid fa-circle fa-2xs"></i>, iar celeleate elemente, trăgând de capetele lor.
				</span>
			</a>
        </div>
    </header>

	<div class="s1-container">
		<div class="side-menu">
			<menu class="main-menu">
				{% for elem in lessons %}
				<li><a href="/lesson?page={{ elem.id }}">{{ elem.text }}</a></li>
				{% endfor %}
			</menu>
		</div>
		<article class="article-mp">
			<h1 style="text-align: center;">{{title}}</h1>
			{% block content %}
			{% endblock %}
		</article>
	</div>

	<!-- Toggle help popup from header -->
	<script>
		// Get the trigger element and the popup content
		var triggerElement = document.getElementById("popupTrigger");
		var popupContent = document.getElementById("popupContent");

		// Variable to keep track of popup visibility
		var isPopupVisible = false;

		// Function to toggle popup visibility
		function togglePopup() {
			if (isPopupVisible) {
				// If popup is visible, hide it
				popupContent.style.display = "none";
				isPopupVisible = false;
			} else {
				// If popup is hidden, show it
				popupContent.style.display = "block";
				isPopupVisible = true;
			}
		}

		// Add event listener for click event on trigger element
		triggerElement.addEventListener("click", function () {
			// Toggle popup visibility on click
			togglePopup();
		});

		// Close popup when tapping outside the popup
		document.addEventListener("click", function (event) {
			if (!popupContent.contains(event.target) && event.target !== triggerElement) {
				// If clicked outside the popup and not on the trigger element, hide the popup
				popupContent.style.display = "none";
				isPopupVisible = false;
			}
		});
	</script>

    <!-- Import scripts -->

    <!-- Localisation Scripts -->
    <script src="js/locale.js"></script>
    <script src="locale/en.js"></script>
    <script src="locale/ro.js"></script>

    <!-- Utilities -->
    <script src="js/dropdown.js"></script>

	<!-- Global variables -->
	<script src="/canvas/global.js"></script>

	<!-- Geometric constructions -->
    <script src="/canvas/graphs.js"></script>

    <!-- Various functions -->
    <script src="/canvas/draw.js"></script>
	<script src="/canvas/import.js"></script>

	<!-- Objects -->
	<script src="/canvas/objects/rayObject.js"></script>
	<script src="/canvas/objects/pointSource.js"></script>
	<script src="/canvas/objects/beam.js"></script>

	<script src="/canvas/objects/screen.js"></script>
	<script src="/canvas/objects/arrow.js"></script>
	<script src="/canvas/objects/line.js"></script>

    <script src="/canvas/objects/angle.js"></script>

    <script src="/canvas/objects/planeDiopter.js"></script>
    <script src="/canvas/objects/sphericalDiopter.js"></script>
    <script src="/canvas/objects/lens.js"></script>
    <script src="/canvas/objects/planeMirror.js"></script>
	<script src="/canvas/objects/sphericalMirror.js"></script>
    
	<!-- Main workflow -->
    <script src="/canvas/main.js"></script>
</body>
</html>